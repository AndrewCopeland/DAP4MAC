version: "2"
services:
  postgres-db:
    protocol: pg
    listenOn: tcp://0.0.0.0:5432 # can be a socket as well (same name for both)
    credentials:
      address: "secretless-db.demoapps.svc.cluster.local:5432"
      password:
        from: conjur
        get: secrets/backend/postgres_pwd
      username:
        from: conjur
        get: secrets/backend/postgres_user
    config:  # this section usually blank
      optionalStuff: foo